<html>
  <head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="./layui/css/layui.css">

		<style type="text/css">
			ul{bottom: 0; top: 0;}
			.main{margin-left: 200px; position: absolute; right: 0; left: 0;}
			.main #view1{width: 93%; position: relative;}
			.main > button{margin-left: 20px; margin-top: 20px;}
			.layui-layer-tips .layui-layer-content{
				background-color: transparent;
			}
			
		</style>
		<script src="./layui/jquery.min.js"></script>
		<script type="text/javascript">
			//为了保证不出现一闪而过的菜单栏, 放在了前面进行加载这段代码
			$().ready(() => {
				var a = $('.dynamic-navigation');			
				localStorage.getItem('nav-status') == 1 ? (
					$('.dynamic-navigation').attr("tg", "1").css('left', '-200px'),
					$('.layui-layer-tips').css('left', '89px')
				) : (
					console.log(localStorage.getItem('nav-status'))
				);
				
			});
		</script>
	<link id="layuicss-layer" rel="stylesheet" href="https://faysunshine.com/layui/nav/UI/layui-v2.1.5/layui/css/modules/layer/default/layer.css?v=3.1.0" media="all"></head>

	<body>
		<ul class="layui-nav layui-nav-tree dynamic-navigation" lay-filter="test" style="position: fixed; left: 0px;">
			<li class="layui-nav-item layui-nav-itemed">
				<a href="javascript:;">默认展开<span class="layui-nav-more"></span></a>
				<dl class="layui-nav-child">
					<dd>
						<a href="javascript:;">选项1</a>
					</dd>
					<dd>
						<a href="javascript:;">选项2</a>
					</dd>
					<dd>
						<a href="">跳转</a>
					</dd>
				</dl>
			</li>
			<li class="layui-nav-item">
				<a href="javascript:;">解决方案<span class="layui-nav-more"></span></a>
				<dl class="layui-nav-child">
					<dd>
						<a href="">移动模块</a>
					</dd>
					<dd>
						<a href="">后台模版</a>
					</dd>
					<dd>
						<a href="">电商平台</a>
					</dd>
				</dl>
			</li>
			<li class="layui-nav-item">
				<a href="">产品</a>
			</li>
			<li class="layui-nav-item">
				<a href="">大数据</a>
			</li>
		<span class="layui-nav-bar" style="top: 22.5px; height: 0px; opacity: 0;"></span></ul>
		
		<div class="main dynamic-navigation" style="left: 0px;">
			<button class="layui-btn layui-btn-primary"><i class="layui-icon"></i></button>
		
		
		<script src="./layui/layui.all.js" type="text/javascript" charset="utf-8"></script>
		
		
		<script type="text/javascript">
			layui.use(['element', 'layer'], () => {
				var element = layui.element;
				element.init();
				
				$('body').on('click', '.main>button', () => {
					var a = $('.dynamic-navigation');
					var b = $('.layui-layer-tips');
					a && (a.attr("tg") ? (a.animate({
						left: 0,
						opacity: "show"
					}, 500), a.removeAttr("tg"), b.animate({
						left: 289,
						opacity: "show"
					}, 500)) : (a.animate({
						left: -200,
						opacity: "show"
					}, 500), a.attr("tg", "1"), b.animate({
						left: 89,
						opacity: "show"
					}, 500)));
					
					//分开写了
					a && (a.attr("tg") ? (
						localStorage.setItem('nav-status', 1)
					) : (
						localStorage.setItem('nav-status', 0)
					));
					
				});
				
				layer.tips('点我试试^_^', '.main>button', {
				  	tips: [2, 'red'],
				  	time: 0
				});
				
				
			})
		</script>
		
	
	
